#include <fstream>

#include "fixture.h"

TEST_F(bcause, example_e_2)
{
    auto output = compile_and_run(file_contents(TEST_DIR "/../examples/e-2.b"));
    const std::string expect = R"(71828 18284 59045 23536 02874 71352 66249 77572 47093 69995
95749 66967 62772 40766 30353 54759 45713 82178 52516 64274
27466 39193 20030 59921 81741 35966 29043 57290 03342 95260
59563 07381 32328 62794 34907 63233 82988 07531 95251 01901
15738 34187 93070 21540 89149 93488 41675 09244 76146 06680
82264 80016 84774 11853 74234 54424 37107 53907 77449 92069
55170 27618 38606 26133 13845 83000 75204 49338 26560 29760
67371 13200 70932 87091 27443 74704 72306 96977 20931 01416
92836 81902 55151 08657 46377 21112 52389 78442 50569 53696
77078 54499 69967 94686 44549 05987 93163 68892 30098 79312
77361 78215 42499 92295 76351 48220 82698 95193 66803 31825
28869 39849 64651 05820 93923 98294 88793 32036 25094 43117
30123 81970 68416 14039 70198 37679 32068 32823 76464 80429
53118 02328 78250 98194 55815 30175 67173 61332 06981 12509
96181 88159 30416 90351 59888 85193 45807 27386 67385 89422
87922 84998 92086 80582 57492 79610 48419 84443 63463 24496
84875 60233 62482 70419 78623 20900 21609 90235 30436 99418
49146 31409 34317 38143 64054 62531 52096 18369 08887 07016
76839 64243 78140 59271 45635 49061 30310 72085 10383 75051
01157 47704 17189 86106 87396 96552 12671 54688 95703 50354
02123 40784 98193 34321 06817 01210 05627 88023 51930 33224
74501 58539 04730 41995 77770 93503 66041 69973 29725 08868
76966 40355 57071 62268 44716 25607 98826 51787 13419 51246
65201 03059 21236 67719 43252 78675 39855 89448 96970 96409
75459 18569 56380 23637 01621 12047 74272 28364 89613 42251
64450 78182 44235 29486 36372 14174 02388 93441 24796 35743
70263 75529 44483 37998 01612 54922 78509 25778 25620 92622
64832 62779 33386 56648 16277 25164 01910 59004 91644 99828
93150 56604 72580 27786 31864 15519 56532 44258 69829 46959
30801 91529 87211 72556 34754 63964 47910 14590 40905 86298
49679 12874 06870 50489 58586 71747 98546 67757 57320 56812
88459 20541 33405 39220 00113 78630 09455 60688 16674 00169
84205 58040 33637 95376 45203 04024 32256 61352 78369 51177
88386 38744 39662 53224 98506 54995 88623 42818 99707 73327
61717 83928 03494 65014 34558 89707 19425 86398 77275 47109
62953 74152 11151 36835 06275 26023 26484 72870 39207 64310
05958 41166 12054 52970 30236 47254 92966 69381 15137 32275
36450 98889 03136 02057 24817 65851 18063 03644 28123 14965
50704 75102 54465 01172 72115 55194 86685 08003 68532 28183
15219 60037 35625 27944 95158 28418 82947 87610 85263 98139
55990 06737 64829 22443 75287 18462 45780 36192 98197 13991
47564 48826 26039 03381 44182 32625 15097 48279 87779 96437
30899 70388 86778 22713 83605 77297 88241 25611 90717 66394
65070 63304 52795 46618 55096 66618 56647 09711 34447 40160
70462 62156 80717 48187 78443 71436 98821 85596 70959 10259
68620 02353 71858 87485 69652 20005 03117 34392 07321 13908
03293 63447 97273 55955 27734 90717 83793 42163 70120 50054
51326 38354 40001 86323 99149 07054 79778 05669 78533 58048
96690 62951 19432 47309 95876 55236 81285 90413 83241 16072
26029 98330 53537 08761 38939 63917 79574 54016 13722 36187
89365 26053 81558 41587 18692 55386 06164 77983 40254 35128
43961 29460 35291 33259 42794 90433 72990 85731 58029 09586
31382 68329 14771 16396 33709 24003 16894 58636 06064 58459
25126 99465 57248 39186 56420 97526 85082 30754 42545 99376
91704 19777 80085 36273 09417 10163 43490 76964 23722 29435
23661 25572 50881 47792 23151 97477 80605 69672 53801 71807
76360 34624 59278 77846 58506 56050 78084 42115 29697 52189
08740 19660 90665 18035 16501 79250 46195 01366 58543 66327
12549 63990 85491 44200 01457 47608 19302 21206 60243 30096
41270 48943 90397 17719 51806 99086 99860 66365 83232 27870
93765 02260 14929 10115 17177 63594 46020 23249 30028 04018
67723 91028 80978 66605 65118 32600 43688 50881 71572 38669
84224 22010 24950 55188 16948 03221 00251 54264 94639 81287
36776 58927 68816 35983 12477 88652 01411 74110 91360 11649
95076 62907 79436 46005 85194 19985 60162 64790 76153 21038
72755 71269 92518 27568 79893 02761 76114 61625 49356 49590
37980 45838 18232 33686 12016 24373 65698 46703 78585 33052
75833 33793 99075 21660 69238 05336 98879 56513 72855 93883
49989 47074 16181 55012 53970 64648 17194 67083 48197 21448
88987 90676 50379 59036 69672 49499 25452 79033 72963 61626
58976 03949 85767 41397 35944 10237 44329 70935 54779 82629
61459 14429 36451 42861 71585 87339 74679 18975 71211 95618
73857 83644 75844 84235 55581 05002 56114 92391 51889 30994
63428 41393 60803 83091 66281 88115 03715 28496 70597 41625
62823 60921 68075 15017 77253 87402 56425 34708 79089 13729
17228 28611 51591 56837 25241 63077 22544 06337 87593 10598
26760 94420 32619 24285 31701 87817 72960 23541 30606 72136
04600 03896 61093 64709 51414 17185 77701 41806 06443 63681
54644 40053 31608 77831 43174 44081 19494 22975 59931 40118
88683 31483 28027 06553 83300 46932 90115 74414 75631 39997


)";
    EXPECT_EQ(output, expect);
}
